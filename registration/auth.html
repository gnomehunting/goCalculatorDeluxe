<!DOCTYPE html>
<html>
<head>
 <title>Проверка JWT</title>
 <script>
  // Список валидных токенов (полученный из шаблона)
  const validTokens = "{{ .Tokens }}";

  function checkJWT() {
   // Получаем JWT токен из куки
   const jwtToken = document.cookie.split('; ').find(row => row.startsWith('jwt_token='));
   if (!jwtToken) {
    alert("JWT токен не найден!");
    window.location.replace("/login");
    return;
   }

   // Извлекаем значение токена
   const tokenValue = jwtToken.split('=')[1];

   // Проверяем, есть ли токен в списке валидных
   if (validTokens.includes(tokenValue)) {
    alert("JWT токен валиден!");
    window.location.replace("/login");
   } else {
    alert("JWT токен не валиден!");
    window.location.replace("/calculator");
   }

   
  }
 </script>
</head>
<body onload="checkJWT()">
    <h1> validTokens <h1>
</body>
</html>
